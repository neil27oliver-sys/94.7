<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>94.7 | Setup - My Bike & Weight</title>
    <style>
        :root { --sky-blue: #00B4D8; --success: #2ecc71; --danger: #ff0000; --warning: #ffaa00; }
        * { box-sizing: border-box; margin:0; padding:0; }
        body { background: #000; color: #fff; font-family: 'Arial Black', sans-serif; overflow-x: hidden; }

        nav { background: #000; padding: 1rem; display: flex; overflow-x: auto; gap: 1.5rem; border-bottom: 4px solid #fff; position: sticky; top: 0; z-index: 1000; }
        nav a { color: #fff; text-decoration: none; font-weight: 900; text-transform: uppercase; font-size: 0.8rem; flex-shrink: 0; }
        nav a.active { color: var(--sky-blue); text-decoration: underline; }

        main { max-width: 900px; margin: 0 auto; padding: 1rem; }

        h1 { color: var(--sky-blue); text-align: center; margin: 1.5rem 0; font-size: 2.2rem; }

        .input-section { background: #111; padding: 1.5rem; border: 3px solid var(--sky-blue); margin-bottom: 1.5rem; border-radius: 8px; }
        label { font-size: 1.1rem; color: var(--sky-blue); font-weight: 900; display: block; margin-bottom: 8px; }
        input[type="number"], select { width: 100%; padding: 12px; font-size: 1.2rem; text-align: center; background: #222; color: #fff; border: 2px solid #444; border-radius: 4px; }

        .total-box { font-size: 2rem; font-weight: 900; text-align: center; padding: 20px; background: #1a1a1a; border: 3px solid var(--success); border-radius: 8px; margin: 2rem 0; }
        .total-box span { color: var(--sky-blue); }

        .note { font-size: 1rem; color: #ccc; margin: 1rem 0; text-align: center; line-height: 1.5; }
        .note strong { color: var(--sky-blue); }

        .controls { display: flex; gap: 10px; margin: 2rem 0; }
        .btn { flex: 1; padding: 1.5rem; border: 4px solid #fff; font-weight: 900; font-size: 1.3rem; cursor: pointer; text-transform: uppercase; }
        .btn-save { background: var(--success); color: #000; }
        .btn-reset { background: #333; color: #fff; }

        footer { text-align: center; padding: 1.5rem; color: #aaa; font-size: 0.9rem; margin-top: 2rem; }
    </style>
</head>
<body>

<nav>
     <a href="index.html">Home</a>
        <a href="assesment.html" class="unlocked">Assessment</a>
        <a href="dashboard.html" class="unlocked">Dashboard</a>
        <a href="physical.html" class="unlocked">Physical</a>
        <a href="weight.html" class="unlocked">Bike/Weight</a>
        <a href="indoor.html" class="unlocked">Indoor</a>
        <a href="climbs.html" class="unlocked">Climbs</a>
        <a href="outdoor.html" class="unlocked">Outdoor</a>
        <a href="streching.html" class="unlocked">Stretching</a>
        <a href="mindset.html" class="unlocked">Mindset</a>
       
</nav>

<main>
    <h1>Setup - My Bike & Weight</h1>

    <p>Enter your details below. The app will calculate your <strong>total all-in weight</strong> (rider + bike + kit + your road/rolling estimate) for better indoor power estimates. You can change these anytime.</p>

    <div class="input-section">
        <label>Rider Weight (kg) – your scale body weight only</label>
        <input type="number" id="rider-weight" value="72" min="40" max="150" step="1">

        <label>Bike Type</label>
        <select id="bike-type">
            <option value="road">Road</option>
            <option value="gravel">Gravel</option>
            <option value="mountain">Mountain</option>
            <option value="hybrid">Hybrid</option>
            <option value="tt">TT/Aero</option>
            <option value="other">Other</option>
        </select>

        <label>Bike Weight (kg) – including pedals, wheels, etc.</label>
        <input type="number" id="bike-weight" value="8" min="6" max="20" step="0.5">

        <label>Kit & Accessories (kg) – shoes, bottles, lights, computer, etc.</label>
        <input type="number" id="kit-weight" value="4" min="1" max="10" step="0.5">

        <label>Road Surface / Rolling Factor</label>
        <select id="rolling-factor">
            <option value="smooth">Smooth road (low rolling) – +0 kg</option>
            <option value="average" selected>Average road – +5 kg</option>
            <option value="rough">Rough road (high rolling) – +10 kg</option>
        </select>

        <label>Custom Road / Rolling Adjustment (kg)<br><small>Your own estimate (e.g. -3 to +15). This is the value used in the total.</small></label>
        <input type="number" id="custom-rolling" value="0" min="-20" max="30" step="1">
    </div>

    <div class="total-box">
        Total All-In Weight: <span id="total-weight">84</span> kg<br>
        <small>(Rider + Bike + Kit + Your Road/Rolling Estimate)</small>
    </div>

    <div class="note">
        This total is used for indoor power estimates (higher weight = more watts at same speed due to rolling resistance).  
        Use the dropdown above as a quick reference — only your custom value counts.
    </div>

    <div class="controls">
        <button class="btn btn-save" onclick="saveSetup()">SAVE SETUP</button>
        <button class="btn btn-reset" onclick="resetSetup()">RESET TO DEFAULTS</button>
    </div>
</main>

<script>
    const defaults = {
        rider: 72,
        bikeType: 'road',
        bikeWeights: { road: 8, gravel: 9, mountain: 12, hybrid: 10, tt: 7.5, other: 10 },
        kit: 4,
        customRolling: 0
    };

    function updateTotal() {
        const rider = parseFloat(document.getElementById('rider-weight').value) || defaults.rider;
        const bikeType = document.getElementById('bike-type').value;
        const bike = parseFloat(document.getElementById('bike-weight').value) || defaults.bikeWeights[bikeType] || 10;
        const kit = parseFloat(document.getElementById('kit-weight').value) || defaults.kit;
        const custom = parseFloat(document.getElementById('custom-rolling').value) || defaults.customRolling;

        const total = rider + bike + kit + custom;
        document.getElementById('total-weight').innerText = Math.round(total);

        // Auto-update bike weight when type changes
        document.getElementById('bike-weight').value = defaults.bikeWeights[bikeType] || 10;
    }

    function saveSetup() {
        const rider = document.getElementById('rider-weight').value;
        const bike = document.getElementById('bike-weight').value;
        const kit = document.getElementById('kit-weight').value;
        const customRolling = document.getElementById('custom-rolling').value;

        localStorage.setItem('setup', JSON.stringify({ 
            rider, 
            bike, 
            kit, 
            customRolling 
        }));
        alert('Setup saved! Total all-in weight will be used in Indoor page.');
    }

    function resetSetup() {
        document.getElementById('rider-weight').value = defaults.rider;
        document.getElementById('bike-type').value = defaults.bikeType;
        document.getElementById('bike-weight').value = defaults.bikeWeights[defaults.bikeType];
        document.getElementById('kit-weight').value = defaults.kit;
        document.getElementById('custom-rolling').value = defaults.customRolling;
        document.getElementById('rolling-factor').value = 'average'; // visual reset only
        updateTotal();
    }

    // Load saved values if exist
    window.onload = function() {
        const saved = JSON.parse(localStorage.getItem('setup'));
        if (saved) {
            document.getElementById('rider-weight').value = saved.rider || defaults.rider;
            document.getElementById('bike-type').value = saved.bikeType || defaults.bikeType;
            document.getElementById('bike-weight').value = saved.bike || defaults.bikeWeights[saved.bikeType] || 10;
            document.getElementById('kit-weight').value = saved.kit || defaults.kit;
            document.getElementById('custom-rolling').value = saved.customRolling || defaults.customRolling;
        }
        updateTotal();

        // Update total live on any change
        document.querySelectorAll('input, select').forEach(el => {
            el.addEventListener('input', updateTotal);
            el.addEventListener('change', updateTotal);
        });
    };
</script>

<footer style="text-align:center; padding:2rem; color:#aaa; font-size:0.9rem;">
    Ride safe – adjust these values anytime your setup changes!
</footer>
</body>
</html>